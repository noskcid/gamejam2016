<html>
	<head>
		<title>Sandbox</title>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
		<script src="js/engine.js"></script>
		<script type="text/javascript">

		var availableWorkers = 3;

			function redraw() {
				$("#p_death").text(parseFloat(p_death).toFixed(2));
				$("#p_birth").text(parseFloat(p_birth).toFixed(2));
				$("#p_healing").text(parseFloat(p_healing).toFixed(2));
				$("#p_peace").text(parseFloat(p_peace).toFixed(2));
				$("#p_war").text(parseFloat(p_war).toFixed(2));
				$("#p_construction").text(parseFloat(p_construction).toFixed(2));
				$("#p_honor").text(parseFloat(p_honor).toFixed(2));
				$("#p_mischief").text(parseFloat(p_mischief).toFixed(2));
				
				$("#j_brewery").text(j_brewery);
				$("#j_apothecary").text(j_apothecary);
				$("#j_raid").text(j_raid);
				$("#j_build").text(j_build);
				$("#j_worship").text(j_worship);
				$("#j_woodcutter").text(j_woodcutter);
				$("#j_stoneMason").text(j_stoneMason);
				$("#j_farmer").text(j_farmer);

				$("#r_wood").text(parseFloat(r_wood).toFixed(2));
				$("#r_stone").text(parseFloat(r_stone).toFixed(2));
				$("#r_food").text(parseFloat(r_food).toFixed(2));
				$("#population").text(population);
				$("#population_CAP").text(population_CAP);
				$("#year").text(year);
				$("#g_Hades").text(parseFloat(g_Hades).toFixed(2));
				$("#g_Cupid").text(parseFloat(g_Cupid).toFixed(2));
				$("#g_Loki").text(parseFloat(g_Loki).toFixed(2));
				$("#g_Thor").text(parseFloat(g_Thor).toFixed(2));
				$("#g_Athena").text(parseFloat(g_Athena).toFixed(2));
			}
			
			$(document).ready(function() {
				setStartingValues();
				redraw();
				// Update every minute
				interval = setInterval(function(){
					update();
					redraw();
				}, 200);


			//BUTTON DECLARATIONS
			$('input.j_brewery').click(function (event) {
				if (event.target.id == 'plus') {
					if (availableWorkers > 0) {
						j_brewery += 0.1;
						availableWorkers -= 1;
					}
				} else {
					if (j_brewery > 0) {
						j_brewery -= 0.1;
						availableWorkers += 1;
					}
				}
				$("#j_brewery").text(j_brewery);	
			});


			$('input.j_apothecary').click(function (event) {
				if (event.target.id == 'plus') {
					if (availableWorkers > 0) {
						j_apothecary += 0.1;
						availableWorkers -= 1;
					}
				} else {
					if (j_apothecary > 0) {
						j_apothecary -= 0.1;
						availableWorkers += 1;
					}
				}
				$("#j_apothecary").text(j_apothecary);	
			});

			$('input.j_raid').click(function (event) {
				if (event.target.id == 'plus') {
					if (availableWorkers > 0) {
						j_raid += 0.1;
						availableWorkers -= 1;
					}
				} else {
					if (j_raid > 0) {
						j_raid -= 0.1;
						availableWorkers += 1;
					}
				}
				$("#j_raid").text(j_raid);	
			});

			$('input.j_build').click(function (event) {
				if (event.target.id == 'plus') {
					if (availableWorkers > 0) {
						j_build += 0.1;
						availableWorkers -= 1;
					}
				} else {
					if (j_build > 0) {
						j_build -= 0.1;
						availableWorkers += 1;
					}
				}
				$("#j_build").text(j_build);	
			});

			$('input.j_worship').click(function (event) {
				if (event.target.id == 'plus') {
					if (availableWorkers > 0) {
						j_worship += 0.1;
						availableWorkers -= 1;
					}
				} else {
					if (j_worship > 0) {
						j_worship -= 0.1;
						availableWorkers += 1;
					}
				}
				$("#j_worship").text(j_worship);	
			});

			$('input.j_worship').click(function (event) {
				if (event.target.id == 'plus') {
					if (availableWorkers > 0) {
						j_worship += 0.1;
						availableWorkers -= 1;
					}
				} else {
					if (j_worship > 0) {
						j_worship -= 0.1;
						availableWorkers += 1;
					}
				}
				$("#j_worship").text(j_worship);	
			});

			$('input.j_woodcutter').click(function (event) {
				if (event.target.id == 'plus') {
					if (availableWorkers > 0) {
						j_woodcutter += 0.1;
						availableWorkers -= 1;
					}
				} else {
					if (j_woodcutter > 0) {
						j_woodcutter -= 0.1;
						availableWorkers += 1;
					}
				}
				$("#j_woodcutter").text(j_woodcutter);	
			});

			$('input.j_stoneMason').click(function (event) {
				if (event.target.id == 'plus') {
					if (availableWorkers > 0) {
						j_stoneMason += 0.1;
						availableWorkers -= 1;
					}
				} else {
					if (j_stoneMason > 0) {
						j_stoneMason -= 0.1;
						availableWorkers += 1;
					}
				}
				$("#j_stoneMason").text(j_stoneMason);	
			});

			$('input.j_farmer').click(function (event) {
				if (event.target.id == 'plus') {
					if (availableWorkers > 0) {
						j_farmer += 0.1;
						availableWorkers -= 1;
					}
				} else {
					if (j_farmer > 0) {
						j_farmer -= 0.1;
						availableWorkers += 1;
					}
				}
				$("#j_farmer").text(j_farmer);	
			});

			});
		</script>
	</head>
	<body>
		<h3>Parameters</h3>
		<p>p_death: <span id="p_death"></span></p>
		<p>p_birth: <span id="p_birth"></span></p>
		<p>p_healing: <span id="p_healing"></span></p>
		<p>p_peace: <span id="p_peace"></span></p>
		<p>p_war: <span id="p_war"></span></p>
		<p>p_construction: <span id="p_construction"></span></p>
		<p>p_honor: <span id="p_honor"></span></p>
		<p>p_mischief: <span id="p_mischief"></span></p>

		<h3>Jobs</h3>
		<p>j_brewery: <span id="j_brewery"></span>
			<input class="j_brewery" id="plus" type="submit" value="+">
			<input class="j_brewery" id="minus" type="submit" value="-">
		</p>
		<p>j_apothecary: <span id="j_apothecary"></span>
			<input class="j_apothecary" id="plus" type="submit" value="+">
			<input class="j_apothecary" id="minus" type="submit" value="-">
		</p>
		<p>j_raid: <span id="j_raid"></span>
			<input class="j_raid" id="plus" type="submit" value="+">
			<input class="j_raid" id="minus" type="submit" value="-">
		</p>
		<p>j_build: <span id="j_build"></span>
			<input class="j_build" id="plus" type="submit" value="+">
			<input class="j_build" id="minus" type="submit" value="-">
		</p>
		<p>j_worship: <span id="j_worship"></span>
			<input class="j_worship" id="plus" type="submit" value="+">
			<input class="j_worship" id="minus" type="submit" value="-">
		</p>
		<p>j_woodcutter: <span id="j_woodcutter"></span>
			<input class="j_woodcutter" id="plus" type="submit" value="+">
			<input class="j_woodcutter" id="minus" type="submit" value="-">
		</p>
		<p>j_stoneMason: <span id="j_stoneMason"></span>
			<input class="j_stoneMason" id="plus" type="submit" value="+">
			<input class="j_stoneMason" id="minus" type="submit" value="-">
		</p>
		<p>j_farmer: <span id="j_farmer"></span>
			<input class="j_farmer" id="plus" type="submit" value="+">
			<input class="j_farmer" id="minus" type="submit" value="-">
		</p>

		<h3>Resources</h3>
		<p>r_wood: <span id="r_wood"></span></p>
		<p>r_stone: <span id="r_stone"></span></p>
		<p>r_food: <span id="r_food"></span></p>
		<h3>General</h3>
		<p>population: <span id="population"></span></p>
		<p>population_CAP: <span id="population_CAP"></span></p>
		<p>year: <span id="year"></span></p>

		<h3>Gods</h3>
		<p>g_Hades: <span id="g_Hades"></span></p>
		<p>g_Cupid: <span id="g_Cupid"></span></p>
		<p>g_Loki: <span id="g_Loki"></span></p>
		<p>g_Thor: <span id="g_Thor"></span></p>
		<p>g_Athena: <span id="g_Athena"></span></p>
		
	</body>
</html>