<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>City of Clouded Kings</title>
	<style>
		canvas {
			display: block;
			padding-left: 0;
			padding-right: 0;
			margin-left: auto;
			margin-right: auto;
			float: left;
		}

		body {
			margin: 0;
			background-image: url("images/olympus.jpg");
		}

		#game_area {
			display: block;
			margin-left: 0;
			margin-right: 0;
			width: 100%;
		}

		#bottom {
			overflow: hidden;
			padding: 50px 50px 50px 50px;
			background-color: #6f97af;
			opacity: 0.7;
		}

		#metrics {
			float: left;
			width: 50%;
		}

		#control {
			float: right;
			width: 50%;
		}

		ol.name-value {
    		list-style: none;
    		display: table;
		}

		ol.name-value li {
    		display: table-row;
    		border-bottom: 1px solid #E8E8E8;
		}

		ol.name-value li label {
    		display: table-cell;
    		width: 50%; 
		}

		ol.name-value li span {
    		display: table-cell;
    		width: 50%; 
		}

		.overlay {
			margin: auto;
			position: absolute;
			top: 25%; left: 25%;
			bottom: 25%; right: 25%;
			background-color:rgba(0, 0, 0, 0.5);
			color: #FFF;
			z-index:5;
			padding: 20px;
			text-align: center;
		}
	</style>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
	<script src="js/engine.js"></script>
	<script type="text/javascript">
		farming = 0;
		fishing = 0;
		available = 10;
		var available = 3;
		
		var yellowGradient;

		var canvas;
		var context;
		var canvasW;
		var canvasH;
		var centerX;
		var centerY;
		var cupid_img;
		var church_tracker = 0;
		var church_img;
		var farm_tracker = 0;
		var farm_img;
		var alcohol_tracker = 0;
		var alcohol_img;
		var apoth_tracker = 0;
		var apoth_img;
		var raid_tracker = 0;
		var raid_img;
		var stone_img;
		var wood_img;

		var audio_tracker = 0;

		var last_cupid; 
		var last_thor;
		var last_loki;
		var last_hades;
		var last_athena;

		var god_pos_audio;
		var god_neg_audio;
		
		var god_mouseover = 0;
		var background_audio;
		var mine_audio;
		var hungry_audio;
		var lumber_audio;
		var doit_audio;

		var interval;
		var tileInterval;
		var audioInterval;
		var peasantAudioInterval;

		var begin_div;
		
		var pos_audio;
		
		var mute_audio = 0;

		function loadImages() {
			cupid_img = new Image();
			cupid_img.src = "images/gods/resized/cupid_cropped2.png";
			loki_img = new Image();
			loki_img.src = "images/gods/resized/loki_cropped2.png";
			hades_img = new Image();
			hades_img.src = "images/gods/resized/hades_cropped2.png";
			thor_img = new Image();
			thor_img.src = "images/gods/resized/thor_cropped2.png";
			athena_img = new Image();
			athena_img.src = "images/gods/resized/athena_cropped2.png";

			tile_img = new Image();
			tile_img.src = "images/tile.png";
			
			church_img = new Array();
			church_img[0] = new Image();
			church_img[0].src = "images/workingfolder/praise/churchclear.png";
			church_img[1] = new Image();
			church_img[1].src = "images/workingfolder/praise/s1.png";
			church_img[2] = new Image();
			church_img[2].src = "images/workingfolder/praise/s2.png";
			church_img[3] = new Image();
			church_img[3].src = "images/workingfolder/praise/s3.png";
			church_img[4] = new Image();
			church_img[4].src = "images/workingfolder/praise/s4.png";
			church_img[5] = new Image();
			church_img[5].src = "images/workingfolder/praise/s5.png";
			
			farm_img = new Array();
			farm_img[0] = new Image();
			farm_img[0].src = "images/workingfolder/farm/s12.png";
			farm_img[1] = new Image();
			farm_img[1].src = "images/workingfolder/farm/s0.png";
			farm_img[2] = new Image();
			farm_img[2].src = "images/workingfolder/farm/s1.png";
			farm_img[3] = new Image();
			farm_img[3].src = "images/workingfolder/farm/s2.png";
			farm_img[4] = new Image();
			farm_img[4].src = "images/workingfolder/farm/s3.png";
			farm_img[5] = new Image();
			farm_img[5].src = "images/workingfolder/farm/s4.png";
			farm_img[6] = new Image();
			farm_img[6].src = "images/workingfolder/farm/s6.png";
			farm_img[7] = new Image();
			farm_img[7].src = "images/workingfolder/farm/s9.png";
			farm_img[8] = new Image();
			farm_img[8].src = "images/workingfolder/farm/s11.png";

			alcohol_img = new Array();
			alcohol_img[0] = new Image();
			alcohol_img[0].src = "images/workingfolder/alcohol/aclear.png";
			alcohol_img[1] = new Image();
			alcohol_img[1].src = "images/workingfolder/alcohol/a0.png";
			alcohol_img[2] = new Image();
			alcohol_img[2].src = "images/workingfolder/alcohol/a1.png";
			alcohol_img[3] = new Image();
			alcohol_img[3].src = "images/workingfolder/alcohol/a2.png";
			
			apoth_img = new Array();
			apoth_img[0] = new Image();
			apoth_img[0].src = "images/workingfolder/apoth/apothempty.png";
			apoth_img[1] = new Image();
			apoth_img[1].src = "images/workingfolder/apoth/a0.png";
			apoth_img[2] = new Image();
			apoth_img[2].src = "images/workingfolder/apoth/a1.png";
			apoth_img[3] = new Image();
			apoth_img[3].src = "images/workingfolder/apoth/a2.png";
			apoth_img[4] = new Image();
			apoth_img[4].src = "images/workingfolder/apoth/a3.png";
			apoth_img[5] = new Image();
			apoth_img[5].src = "images/workingfolder/apoth/a4.png";

			raid_img = new Array();
			raid_img[0] = new Image();
			raid_img[0].src = "images/tile.png";
			raid_img[1] = new Image();
			raid_img[1].src = "images/workingfolder/raid/r0.png";
			raid_img[2] = new Image();
			raid_img[2].src = "images/workingfolder/raid/r1.png";
			raid_img[3] = new Image();
			raid_img[3].src = "images/workingfolder/raid/r2.png";
			
			stone_img = new Array();
			stone_img[0] = new Image();
			stone_img[0].src = "images/workingfolder/Stone/s0.png";
			stone_img[1] = new Image();
			stone_img[1].src = "images/workingfolder/Stone/s1.png";
			stone_img[2] = new Image();
			stone_img[2].src = "images/workingfolder/Stone/s2.png";

			wood_img = new Array();
			wood_img[0] = new Image();
			wood_img[0].src = "images/workingfolder/wood/0/w0.png";
			wood_img[1] = new Image();
			wood_img[1].src = "images/workingfolder/wood/0/w1.png";
			wood_img[2] = new Image();
			wood_img[2].src = "images/workingfolder/wood/0/w2.png";

		}

		function loadAudio() {
			background_audio = new Audio('Audio/folkloop3.ogg');
			
			background_audio.addEventListener('ended', function() {
    			this.currentTime = 0;
    			this.play();
			}, false);
			
			//background_audio.loop = true;
			background_audio.volume = 0.5
			background_audio.play();

			mine_audio = new Audio('Audio/Toby - Oggs/DownTheMinesIGo.ogg');
			lumber_audio = new Audio('Audio/Toby - Oggs/YeahICouldBeALumberjack.ogg');
			
			pos_audio = new Array();
			pos_audio[0] = new Audio('Audio/Toby - Oggs/Alright.ogg');
			pos_audio[1] = new Audio('Audio/Toby - Oggs/AlrightBoss.ogg');
			pos_audio[2] = new Audio('Audio/Toby - Oggs/AlrightGuvnor.ogg');
			pos_audio[3] = new Audio('Audio/Toby - Oggs/ConsiderItDone.ogg');
			pos_audio[4] = new Audio('Audio/Toby - Oggs/HaveItYourWay.ogg');
			pos_audio[5] = new Audio('Audio/Toby - Oggs/OnItMate.ogg');

			god_pos_audio = new Array();
			god_pos_audio[0] = new Audio('Audio/gods/hades_g.ogg');
			god_pos_audio[1] = new Audio('Audio/gods/cupid_g.ogg');
			god_pos_audio[2] = new Audio('Audio/gods/loki_g.ogg');
			god_pos_audio[3] = new Audio('Audio/gods/thor_g.ogg');
			god_pos_audio[4] = new Audio('Audio/gods/athena_g.ogg');

			god_neg_audio = new Array();
			god_neg_audio[0] = new Audio('Audio/gods/hades_b.ogg');
			god_neg_audio[1] = new Audio('Audio/gods/cupid_b.ogg');
			god_neg_audio[2] = new Audio('Audio/gods/loki_b.ogg');
			god_neg_audio[3] = new Audio('Audio/gods/thor_b.ogg');
			god_neg_audio[4] = new Audio('Audio/gods/athena_b.ogg');

			hungry_audio = new Audio('Audio/Toby - Oggs/WereStarvingHere.ogg');
			doit_audio = new Audio('Audio/do_it.ogg');


		}

		function playClip(audio) {
			audio.currentTime = 0;
			audio.play();
		}
		
		function redraw() {
			$("#p_death").text(parseFloat(10*p_death).toFixed(0));
			$("#p_birth").text(parseFloat(10*p_birth).toFixed(0));
			$("#p_healing").text(parseFloat(10*p_healing).toFixed(0));
			$("#p_peace").text(parseFloat(10*p_peace).toFixed(0));
			$("#p_war").text(parseFloat(10*p_war).toFixed(0));
			$("#p_construction").text(parseFloat(10*p_construction).toFixed(0));
			$("#p_destruction").text(parseFloat(10*p_destruction).toFixed(0));
			$("#p_honor").text(parseFloat(10*p_honor).toFixed(0));
			$("#p_mischief").text(parseFloat(10*p_mischief).toFixed(0));

			$("#r_wood").text(parseFloat(r_wood).toFixed(0));	
			$("#r_stone").text(parseFloat(r_stone).toFixed(0));
			$("#r_food").text(parseFloat(r_food).toFixed(0));

			$("#pop").text(parseFloat(population).toFixed(0));
			$("#year").text(year);
			$("#houses").text(houses);
			$("#num_per_house").text(POP_PER_HOUSE);




		}

		function godSpeaking(god_index) {
			if (!god_pos_audio[god_index].paused || !god_neg_audio[god_index].paused) {
				return 1;
			}
		}

		function drawGod(ct, img, x, y, r, meter, last, god_index) {
			var meter_rnd = Math.floor(meter/10);
			var last_rnd = Math.floor(last/10);
			var pattern = ct.createPattern(img, 'repeat');
			ct.beginPath();
      		ct.arc(x, y, r, 0, 2 * Math.PI, false);
      		ct.fillStyle = "black";
      		ct.fill();
      		ct.lineWidth = 10;
			if (god_mouseover == 0) {
      			ct.strokeStyle = '#6f97af';
			} else {
				ct.strokeStyle = '#000000';
			}
			
			if (godSpeaking(god_index)) {
				ct.strokeStyle = '#FFFFFF';
			}
      		ct.stroke();
      		
      		context.drawImage(img, x-50, y-50);

			ct.beginPath();
      		ct.arc(x+r*0.8, y+r*0.8, r/3, 0, 2 * Math.PI, false);
			if (meter == last) {
      			ct.fillStyle = yellowGradient;
			} else if (meter > last) {
				ct.fillStyle = "#00cc00";
			} else {
				ct.fillStyle = "#cc0000";
			}
      		ct.fill();
      		ct.lineWidth = 4;
      		ct.strokeStyle = '#6f97af';
      		ct.stroke();
			
			ct.fillStyle = '#000000';
			ct.font = "16px Arial";
			ct.fillText(meter_rnd,x+r*0.8-6,y+r*0.8+5);

		}

		function audioOnChange(g, pos_audio, neg_audio) {
			if (g > 50) {
				playClip(pos_audio);	
			} else if (g < -50){
				playClip(neg_audio);
			}
		}

		function playGodAudio() {
			g_temp = [g_Hades, g_Cupid, g_Loki, g_Thor, g_Athena];
			audio_tracker = (audio_tracker + 1) % god_pos_audio.length;
			audioOnChange(g_temp[audio_tracker],god_pos_audio[audio_tracker], god_neg_audio[audio_tracker]);
			/*
			switch(audio_tracker) {
				case 0:
					audioOnChange(g_Hades, hades_audio_pos, hades_audio_neg);					
				case 1:
					audioOnChange(g_Cupid, cupid_audio_pos, cupid_audio_neg);
				case 2:
					audioOnChange(g_Loki, loki_audio_pos, loki_audio_neg);
				case 3:
					audioOnChange(g_Thor, thor_audio_pos, thor_audio_neg);
				case 4:
					audioOnChange(g_Athena, athena_audio_pos, athena_audio_neg);
			}
			
			*/
		}

		function playPeasantAudio() {
			if (r_food < 1) {
				playClip(hungry_audio);
			}
		}

		function mouse(e) {
			var rect = canvas.getBoundingClientRect();
			var x = e.clientX - rect.left;
			var y = e.clientY - rect.top;

			if (y < 110) {
				god_mouseover = 1;
			} else {
				god_mouseover = 0;
			}
			drawGodBar();

		}

		function drawTiles() {
			context.clearRect(0, 115, canvasW, canvasH);
			house_w = 178;
			house_h = 99;
			//context.drawImage(house_img, centerX-(house_w/2), centerY-(house_h/2));
			
			tile_w = 150;
			tile_h = 80;
			tiles_x = 3;
			tiles_y = 3;
			
			
			if (j_worship > 0) {
				church_tracker = (church_tracker + 1) % church_img.length;
				if (church_tracker == 0) {
					church_tracker++;
				}
			} 
			else {
				church_tracker = 0;
			}
			context.drawImage(church_img[church_tracker], centerX-tile_w/2, centerY-3*tile_h/2);
			
			if (j_farmer > 0) {
				farm_tracker = (farm_tracker + 1) % farm_img.length;
			}
			else {
				farm_tracker = 0;
			}
			context.drawImage(farm_img[farm_tracker], centerX-2*tile_w/2, centerY-tile_h);
			
			if (j_brewery > 0) {
				alcohol_tracker = (alcohol_tracker + 1) % alcohol_img.length;
				if (alcohol_tracker == 0) {
					alcohol_tracker++;
				}
			}
			else {
				alcohol_tracker = 0;
			}
			context.drawImage(alcohol_img[alcohol_tracker], centerX, centerY-tile_h);

			context.drawImage(tile_img, centerX-3*tile_w/2, centerY-tile_h/2);
			
			if (j_apothecary > 0) {
				apoth_tracker = (apoth_tracker + 1) % apoth_img.length;
				if (apoth_tracker == 0) {
					apoth_tracker++;
				}
			}
			else {
				apoth_tracker = 0;
			}
			context.drawImage(apoth_img[apoth_tracker], centerX-tile_w/2, centerY-tile_h/2);
			
			context.drawImage(tile_img, centerX+tile_w/2, centerY-tile_h/2);

			if (j_raid > 0) {
				raid_tracker = (raid_tracker + 1) % raid_img.length;
				if (raid_tracker == 0) {
					raid_tracker++;
				}
			}
			else {
				raid_tracker = 0;
			}
			context.drawImage(raid_img[raid_tracker], centerX-2*tile_w/2, centerY);
			
			if (r_wood < 1) {
				context.drawImage(tile_img, centerX, centerY);
			}
			else if (r_wood < 5) {
				context.drawImage(wood_img[0], centerX, centerY);
			}
			else if (r_wood < 10) {
				context.drawImage(wood_img[1], centerX, centerY);
			}
			else {
				context.drawImage(wood_img[2], centerX, centerY);
			}
			
			if (r_stone < 1) {
				context.drawImage(tile_img, centerX-tile_w/2, centerY+tile_h/2);
			}
			else if (r_stone < 3) {
				context.drawImage(stone_img[0], centerX-tile_w/2, centerY+tile_h/2);
			}
			else if (r_stone < 6) {
				context.drawImage(stone_img[1], centerX-tile_w/2, centerY+tile_h/2);
			}
			else {
				context.drawImage(stone_img[2], centerX-tile_w/2, centerY+tile_h/2);
			}

		}
		
		function drawGodBar() {
			context.clearRect(0, 0, canvasW, 110);
			drawGod(context,cupid_img,55,55,50,g_Cupid,last_cupid,1);
			drawGod(context,loki_img,155,55,50,g_Loki,last_loki,2);
			drawGod(context,hades_img,255,55,50,g_Hades,last_hades,0);
			drawGod(context,thor_img,355,55,50,g_Thor,last_thor,3);
			drawGod(context,athena_img,455,55,50,g_Athena,last_athena,4);
		}
		
		loadImages();
		loadAudio();

		function startGame() {
			// Update every minute
			interval = setInterval(function(){
				if (!game_over) {
					last_cupid = g_Cupid;
					last_loki = g_Loki;
					last_hades = g_Hades;
					last_thor = g_Thor;
					last_athena = g_Athena;
					update();
					redraw();
					drawGodBar();
				} else {
					endGame();
				}

			}, 1000);
			
			tileInterval = setInterval(function(){
				drawTiles();
				drawGodBar();
			}, 200);

			audioInterval = setInterval(function(){
				playGodAudio();
			}, 3000);

			peasantAudioInterval = setInterval(function(){
				playPeasantAudio();
			}, 7000);

		}

		function endGame() {
			alert("The Gods are displeased - Game Over. Final Population: *" + population + "*");
			location.reload(true);
		}

		$(document).ready(function () {
			canvas = document.getElementById('game');
			begin_div = document.getElementById('start_box');
			context = canvas.getContext("2d");
			canvasW = 1000;
			canvasH = 700;
			centerX = canvasW / 2;
      		centerY = canvasH / 2;
      		
      		setStartingValues();
			$("#j_farmer").text(parseFloat(j_farmer*10).toFixed(0));
			/*
			var img = new Image();
			img.onload = function () {
    			context.drawImage(img, centerX-(178/2), centerY-(99/2));
			}
			img.src = "images/house.png";
			*/

			// Create fill gradient
			/*
			*/
			yellowGradient = context.createLinearGradient(0, 0, 0, 5);
			yellowGradient.addColorStop(0, "#ffc821");
			yellowGradient.addColorStop(1, "#faf100");

			/*
			context.beginPath();
      		context.arc(15, 15, 10, 0, 2 * Math.PI, false);
      		context.fillStyle = gradient;
      		context.fill();
      		context.lineWidth = 2;
      		context.strokeStyle = '#000000';
      		context.stroke();


			var thumbImg = new Image();
			thumbImg.src = "images/gods/resized/cupid_cropped.jpg";
			thumbImg.onload = function() {
    			//tmpCtx.save();
    			//tmpCtx.beginPath();
    			//tmpCtx.arc(25, 25, 25, 0, Math.PI * 2, true);
    			//tmpCtx.closePath();
    			//tmpCtx.clip();

    			context.drawImage(thumbImg, 0, 0, 100, 100);

    			//tmpCtx.beginPath();
    			//tmpCtx.arc(0, 0, 25, 0, Math.PI * 2, true);
    			//tmpCtx.clip();
    			//tmpCtx.closePath();
    			//tmpCtx.restore();
			};
			*/
			window.addEventListener('mousemove',mouse, false);
			// Grid height correction for Colour
			//$("#colour").height($("#rain").height());

			


			$('input.plus').click(function (event) {
				if (event.target.id == 'mute') {
					console.log(mute_audio);
					if (mute_audio == 0) {
						background_audio.pause();
						mute_audio = 1;
					}
					else {
						background_audio.play();
						mute_audio = 0;
					}
				}
				else if (available > 0) {
					var x = randomIntFromInterval(0, 5);
					if (event.target.id == 'brewery') {
						playClip(pos_audio[x]);
						j_brewery += 0.1;
						$("#j_brewery").text(parseFloat(j_brewery*10).toFixed(0));	
					}
					else if (event.target.id == 'apothecary') {
						playClip(pos_audio[x]);
						j_apothecary += 0.1;
						$("#j_apothecary").text(parseFloat(j_apothecary*10).toFixed(0));
					}
					else if (event.target.id == 'raid') {
						playClip(pos_audio[x]);
						j_raid += 0.1;
						$("#j_raid").text(parseFloat(j_raid*10).toFixed(0));
					}
					else if (event.target.id == 'worship') {
						playClip(pos_audio[x]);
						j_worship += 0.1;
						$("#j_worship").text(parseFloat(j_worship*10).toFixed(0));
					}
					else if (event.target.id == 'woodcutter') {
						playClip(lumber_audio);
						j_woodcutter += 0.1;
						$("#j_woodcutter").text(parseFloat(j_woodcutter*10).toFixed(0));
					}
					else if (event.target.id == 'stoneMason') {
						playClip(mine_audio);
						j_stoneMason += 0.1;
						$("#j_stoneMason").text(parseFloat(j_stoneMason*10).toFixed(0));
					}
					else if (event.target.id == 'farmer') {
						playClip(pos_audio[x]);
						j_farmer += 0.1;
						$("#j_farmer").text(parseFloat(j_farmer*10).toFixed(0));
					}
					available -= 1;
				}
				
				
				
			});

			$('#play').click(function () {
				begin_div.style.visibility = 'hidden';
				playClip(doit_audio);
				startGame();
			});


			$('input.minus').click(function (event) {
				if (event.target.id == 'brewery') {
					if (j_brewery >= 0.1) {
						j_brewery -= 0.1;
						$("#j_brewery").text(parseFloat(j_brewery*10).toFixed(0));	
						available += 1;
					}	
				}
				else if (event.target.id == 'apothecary') {
					if (j_apothecary >= 0.1) {
						j_apothecary -= 0.1;
						$("#j_apothecary").text(parseFloat(j_apothecary*10).toFixed(0));
						available += 1;
					}
				}
				else if (event.target.id == 'raid') {
					if (j_raid >= 0.1) {
						j_raid -= 0.1;
						$("#j_raid").text(parseFloat(j_raid*10).toFixed(0));
						available += 1;
					}
				}
				else if (event.target.id == 'worship') {
					if (j_worship >= 0.1) {
						j_worship -= 0.1;
						$("#j_worship").text(parseFloat(j_worship*10).toFixed(0));
						available += 1;
					}
				}
				else if (event.target.id == 'woodcutter') {
					if (j_woodcutter >= 0.1) {
						j_woodcutter -= 0.1;
						$("#j_woodcutter").text(parseFloat(j_woodcutter*10).toFixed(0));
						available += 1;
					}
				}
				else if (event.target.id == 'stoneMason') {
					if (j_stoneMason >= 0.1) {
						j_stoneMason -= 0.1;
						$("#j_stoneMason").text(parseFloat(j_stoneMason*10).toFixed(0));
						available += 1;
					}
				}
				else if (event.target.id == 'farmer') {
					if (j_farmer >= 0.1) {
						j_farmer -= 0.1;
						$("#j_farmer").text(parseFloat(j_farmer*10).toFixed(0));
						available += 1;
					}
				}

			});
		
		});
		
		function randomIntFromInterval(min,max)
		{
			return Math.floor(Math.random()*(max-min+1)+min);
		}

		function resize() {
			console.log("RESIZE");
			var C = 1;
			var W_TO_H = 2.5/1;

			var viewportWidth = window.innerWidth;
			var viewportHeight = window.innerHeight;
			var canvasWidth = viewportWidth * C;
			var canvasHeight = canvasWidth / W_TO_H;
			canvas.setAttribute("width", canvasWidth);
			canvas.setAttribute("height", canvasHeight);
			drawGodBar();
			drawTiles();
		}

		$(window).on("load", function() {
    		console.log("All images loaded");
			resize();
			drawGodBar();
			drawTiles();
		});
		$(window).on("resize", function() {
			resize();
		});

		
	</script>
    </head>
    <body>
	<div class="overlay" id="start_box">
		<h1>City of Clouded Kings</h1>
		<div style="height:50%; overflow:scroll">
		<p>
			Welcome to City Of Clouded Kings. A game where careful city planning will keep your subjects fed and happy, try not to anger the gods though as they may punish you and destroy your city. </p>

<p>
Much like a ritual the order in which you do things is crucial in appeasing the gods and surviving for as long as possible.
</p>

<p>

As mayor you are in command of 5 workers that you can assigned to different tasks as you wish. Your primary goal will be to grow your population by providing a constant supply of food to feed your city and collect wood and stone to build houses for your new citizens. Be careful that you don't run out of food as your citizens may starve to death. When you have stockpiled 15 wood and 10 stone a new house will automatically be built.

</p>

<p>

Assigning workers to the other tasks will have the following effects:
</p>

<p>
Brewery. Alcohol will be produced and your citizens will dishonour themselves in their drunkenness. Drunk citizens will find it easier to make babies and your population will grow faster. Alcohol has negative health effects though so your overall health of your citizens will decrease.
</p>
Apothecary. Workers will produce healing potions that help your population grow faster by healing the sick and the wounded.
<p>
Raid. You can send your citizens to pillage neighbouring villages for building resources. This will bring death and destruction to your city.
</p>
<p>
Ritual. Find honour and peace in praising the gods, this also keeps your citizens out of mischief.
</p>

<p>
Hades
Hades, the guardian of the underworld wishes to see his undead horde grow. Appease Hades by causing as much death and destruction as you can and don't take your time and he is impatient.
</p>
<p>
Cupid
The God of love likes to see people happy and in love in a peaceful city. Please him by having a healthy population growth.
</p>
<p>
Loki
Loki revels in mischief and enjoys seeing others cause mischief in his name. He detests honour and peace as this gets in the way of what he stands for.
</p>

<p>
Thor
Thor considers himself honourable, and above childish distraction, and will respect these traits in your population. He also loves the excitement of war.
</p>
<p>
Athena 
Athena hates everything that breaks the peace. Keep your populous orderly, and collecting resources for buildings, to keep her happy.
</p>

<img src="images/splash.png" width="50%">
		</div>
		</p>
		<input id="play" type="submit" value="Play">
	</div>
	<div id="game_area">
	<p>Year: <span id="year"></span> Population: <span id="pop"></span> Number of houses: <span id="houses"></span> (<span id="num_per_house"></span> people per house)</p>
	<canvas id="game" width="1300px" height="700px"></canvas>
	<div id="bottom">
	<div id="metrics">
	<h3>Parameters</h3>
	<ol class="name-value" style="width: 100%;">
		<li>
			<label for="p_death">Death</label>
			<span id="p_death">0</span>
		</li>
		<li>
			<label for="p_birth">Birth</label>
			<span id="p_birth">0</span>
		</li>
		<li>
			<label for="p_healing">Healing</label>
			<span id="p_healing">0</span>
		</li>
		<li>
			<label for="p_peace">Peace</label>
			<span id="p_peace">0</span>
		</li>
		<li>
			<label for="p_war">War</label>
			<span id="p_war">0</span>
		</li>
		<li>
			<label for="p_construction">Construction</label>
			<span id="p_construction">0</span>
		</li>
		<li>
			<label for="p_destruction">Destruction</label>
			<span id="p_destruction">0</span>
		</li>
		<li>
			<label for="p_honor">Honour</label>
			<span id="p_honor">0</span>
		</li>
		<li>
			<label for="p_mischief">Mischief</label>
			<span id="p_mischief">0</span>
		</li>
	</ol>
	<h3>Resources</h3>
	<ol class="name-value" style="width: 100%;">
		<li>
			<label for="r_wood">Wood</label>
			<span id="r_wood">0</span>
		</li>
		<li>
			<label for="r_stone">Stone</label>
			<span id="r_stone">0</span>
		</li>
		<li>
			<label for="r_food">Food</label>
			<span id="r_food">0</span>
		</li>


	</ol>
	</div>

	<div id="control">
	<h3>Jobs</h3>
	<p>
		Brewery: 
		<input class="plus" id="brewery" type="submit" value="+">
		<span id="j_brewery">0</span>
		<input class="minus" id="brewery" type="submit" value="-">
	</p>
	<p>
		Apothecary: 
		<input class="plus" id="apothecary" type="submit" value="+">
		<span id="j_apothecary">0</span>
		<input class="minus" id="apothecary" type="submit" value="-">
	</p>
	<p>
		Raid: 
		<input class="plus" id="raid" type="submit" value="+">
		<span id="j_raid">0</span>
		<input class="minus" id="raid" type="submit" value="-">
	</p>
	<p>
		Perform Rituals: 
		<input class="plus" id="worship" type="submit" value="+">
		<span id="j_worship">0</span>
		<input class="minus" id="worship" type="submit" value="-">
	</p>
	<p>
		Woodcutter: 
		<input class="plus" id="woodcutter" type="submit" value="+">
		<span id="j_woodcutter">0</span>
		<input class="minus" id="woodcutter" type="submit" value="-">
	</p>
	<p>
		Stone Mason: 
		<input class="plus" id="stoneMason" type="submit" value="+">
		<span id="j_stoneMason">0</span>
		<input class="minus" id="stoneMason" type="submit" value="-">
	</p>
	<p>
		Farmer: 
		<input class="plus" id="farmer" type="submit" value="+">
		<span id="j_farmer">0</span>
		<input class="minus" id="farmer" type="submit" value="-">
	</p>
	<p>
		Mute song: 
		<input class="plus" id="mute" type="submit" value="+">
	</p>

	</div>
	</div>
	</div>
	</body>
</html>
